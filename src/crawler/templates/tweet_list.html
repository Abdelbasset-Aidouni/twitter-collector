{% load render_table from django_tables2 %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Tweet list</title>

    <style>
        .spinner-border{
            display:none;
        }
    </style>

</head>
<body>
    

    
    <div class="container mt-5 ">
        <h3>List tweets that talks about a specific subject</h3>

        <div class="container my-3 mx-auto">
            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" name="q" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" id="searchBtn" type="submit" >Search</button>
                <div class="spinner-border"  id="spinner" role="status">
                    <span class="sr-only">Loading...</span>
                </div>
            </form>
        </div>

        <table class="table">
            <thead>
                <tr>
                <th scope="col">#</th>
                <th scope="col">Content</th>
                <th scope="col">polarity</th>
                <th scope="col">subjectivity</th>
                </tr>
            </thead>
            <tbody>
                
                {% for tweet in tweets %}
                <tr>
                    <td scope="row">{{forloop.counter}}</td>
                    <td>{{tweet.content}}</td>
                    <td>{{tweet.polarity}}</td>
                    <td>{{tweet.subjectivity}}</td>
                </tr>
                {% endfor %}

                    
                
            </tbody>
        </table>
    </div>


</body>


<script>



$("#searchBtn").on('click',function(e){
    $(this).css({"display":"none"})
    $("#spinner").css({"display":"inline-block"})
})

</script>

</html>